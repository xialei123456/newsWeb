{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, watch } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useUserStore } from '@/stores/user'; // 引入用户 store\nimport { useRouter } from 'vue-router';\n\n// 创建搜索关键字的响应式变量\n\nconst __default__ = {\n  name: 'HeaderItem'\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const search = ref('');\n\n    // 监听 search 的变化并执行搜索操作\n    watch(search, newValue => {\n      console.log('Searching for:', newValue);\n      // 执行搜索时的逻辑代码, 比如调用搜索接口\n    });\n\n    // 触发搜索功能\n\n    const router = useRouter(); // 获取路由实例\n\n    const clickSearch = keywords => {\n      router.push({\n        name: 'SearchPage',\n        query: {\n          keyword: keywords\n        }\n      }); // 跳转, 携带 query 参数\n    };\n\n    // 使用 Pinia 状态系统引入\n\n    const userStore = useUserStore();\n    const {\n      isLoggedIn,\n      username\n    } = storeToRefs(userStore); // 从状态管理中提取 ref\n\n    // 跳转至收藏页面的函数\n    const goStarPage = () => {\n      router.push({\n        name: 'starPage'\n      }); // 跳转到收藏页面 NewsPage 相似\n    };\n    const __returned__ = {\n      search,\n      router,\n      clickSearch,\n      userStore,\n      isLoggedIn,\n      username,\n      goStarPage,\n      ref,\n      watch,\n      get storeToRefs() {\n        return storeToRefs;\n      },\n      get useUserStore() {\n        return useUserStore;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","watch","storeToRefs","useUserStore","useRouter","__default__","name","search","newValue","console","log","router","clickSearch","keywords","push","query","keyword","userStore","isLoggedIn","username","goStarPage"],"sources":["D:/ForWork/找实习/中信证券code比赛/复赛/front/news-front/src/components/HeaderItem.vue"],"sourcesContent":["<template>\r\n  <header class=\"header\">\r\n    <div class=\"logo\">Logo 2 -- 与首页一致</div>\r\n\r\n    <!-- 搜索栏 -->\r\n    <!-- 使用 Vuetify 提供的文本输入组件, v-model 双向绑定 search 变量, append-icon 添加放大镜图标 -->\r\n    <v-text-field\r\n      clearable\r\n      v-model=\"search\"\r\n      append-icon=\"mdi-magnify\"\r\n      @click:append=\"clickSearch\"\r\n      label=\"Type the keyword of your interests\"\r\n      hide-details\r\n      class=\"search-bar\"\r\n      variant=\"solo\"\r\n      density=\"compact\"\r\n      single-line\r\n    ></v-text-field>\r\n\r\n    <!-- 用户信息及功能菜单 -->\r\n    <v-menu v-if=\"isLoggedIn\" open-on-click offset-y>\r\n      <template v-slot:activator=\"{ props}\">  <!--新版使用props-->\r\n        <v-btn icon v-bind=\"props\">\r\n          <v-icon>mdi-account-circle</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <v-list>\r\n        <v-list-item>\r\n          <v-list-item-title>{{ username }}</v-list-item-title>\r\n        </v-list-item>\r\n        <v-list-item @click=\"goStarPage()\">\r\n          <v-list-item-title>收藏&收藏</v-list-item-title>\r\n        </v-list-item>\r\n        <v-list-item @click=\"userStore.logout()\">\r\n          <v-list-item-title>退出登录</v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n\r\n    <span v-else>用户未登录</span>\r\n  </header>\r\n\r\n  <!-- 标签导航 -->\r\n  <div style=\"padding:5px;margin-top:5px\">\r\n    <nav>\r\n      <ul>\r\n        <!-- 使用 router-link 进行导航和路由 -->\r\n        <li><router-link to=\"/\">首页</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '新闻' } }\">新闻</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '证券' } }\">证券</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '理财' } }\">理财</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '其他' } }\">其他</router-link></li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HeaderItem'\r\n}\r\n</script>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\nimport { storeToRefs } from 'pinia';\r\nimport { useUserStore } from '@/stores/user'; // 引入用户 store\r\nimport { useRouter } from 'vue-router'\r\n\r\n// 创建搜索关键字的响应式变量\r\nconst search = ref('')\r\n\r\n// 监听 search 的变化并执行搜索操作\r\nwatch(search, (newValue) => {\r\n  console.log('Searching for:', newValue)\r\n  // 执行搜索时的逻辑代码, 比如调用搜索接口\r\n})\r\n\r\n// 触发搜索功能\r\n\r\nconst router = useRouter() // 获取路由实例\r\n\r\nconst clickSearch = (keywords) => {\r\n  router.push({ name: 'SearchPage', query: { keyword: keywords } }) // 跳转, 携带 query 参数\r\n}\r\n\r\n// 使用 Pinia 状态系统引入\r\n\r\n\r\nconst userStore = useUserStore();\r\nconst { isLoggedIn, username } = storeToRefs(userStore); // 从状态管理中提取 ref\r\n\r\n// 跳转至收藏页面的函数\r\nconst goStarPage = () => {\r\n  router.push({ name: 'starPage' }) // 跳转到收藏页面 NewsPage 相似\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 20px;\r\n  background-color: #e5e5e5;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.logo {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\n.search-bar {\r\n  width: 28%;\r\n  flex-grow: 1; /* 搜索栏占据剩余的中间空间 */\r\n  margin: 0 auto; /* 搜索栏在页面中居中 */\r\n  max-width: 540px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-35%);\r\n}\r\n\r\nnav ul {\r\n  display: flex;\r\n  justify-content: center;\r\n  list-style: none;\r\n}\r\n\r\nnav ul li {\r\n  margin-left: 20px;\r\n}\r\n\r\nnav ul li a {\r\n  text-decoration: none;\r\n  color: #333;\r\n}\r\n</style>\r\n"],"mappings":";AAgEA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAK;AAChC,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,YAAY,QAAQ,eAAe,CAAC,CAAC;AAC9C,SAASC,SAAS,QAAQ,YAAY;;AAEtC;;AAXA,MAAAC,WAAA,GAAe;EACbC,IAAI,EAAE;AACR,CAAC;;;;;;IAUD,MAAMC,MAAM,GAAGP,GAAG,CAAC,EAAE,CAAC;;IAEtB;IACAC,KAAK,CAACM,MAAM,EAAGC,QAAQ,IAAK;MAC1BC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,QAAQ,CAAC;MACvC;IACF,CAAC,CAAC;;IAEF;;IAEA,MAAMG,MAAM,GAAGP,SAAS,CAAC,CAAC,EAAC;;IAE3B,MAAMQ,WAAW,GAAIC,QAAQ,IAAK;MAChCF,MAAM,CAACG,IAAI,CAAC;QAAER,IAAI,EAAE,YAAY;QAAES,KAAK,EAAE;UAAEC,OAAO,EAAEH;QAAS;MAAE,CAAC,CAAC,EAAC;IACpE,CAAC;;IAED;;IAGA,MAAMI,SAAS,GAAGd,YAAY,CAAC,CAAC;IAChC,MAAM;MAAEe,UAAU;MAAEC;IAAS,CAAC,GAAGjB,WAAW,CAACe,SAAS,CAAC,CAAC,CAAC;;IAEzD;IACA,MAAMG,UAAU,GAAGA,CAAA,KAAM;MACvBT,MAAM,CAACG,IAAI,CAAC;QAAER,IAAI,EAAE;MAAW,CAAC,CAAC,EAAC;IACpC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}