{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-68ee3f07\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  style: {\n    \"display\": \"flex\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"h1\", _hoisted_1, _toDisplayString($setup.keywords) + \"搜索结果\", 1 /* TEXT */), _createCommentVNode(\" 从TableTitle获取labelNews,并作为参数传递给newsList使用 \"), _createVNode($setup[\"NewsList\"], {\n    newsList: $setup.keyNews\n  }, null, 8 /* PROPS */, [\"newsList\"])]);\n}","map":{"version":3,"names":["style","_createElementBlock","_createElementVNode","_hoisted_1","_toDisplayString","$setup","keywords","_createCommentVNode","_createVNode","newsList","keyNews"],"sources":["D:\\ForWork\\找实习\\中信证券code比赛\\复赛\\front\\news-front\\src\\components\\SearchPage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1 style=\"display:flex;\">{{ keywords }}搜索结果</h1>\r\n      <!-- 从TableTitle获取labelNews,并作为参数传递给newsList使用 -->\r\n      <NewsList :newsList=\"keyNews\"/>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import NewsList from './NewsList.vue'\r\n  \r\n  export default {\r\n    name: 'SearchPage',\r\n    components: {\r\n      NewsList\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <script setup>\r\n  import { ref } from 'vue'\r\n  import { onMounted, watch } from 'vue'\r\n  import { useRoute } from 'vue-router'\r\n  \r\n  let keyNews = ref([]) // 初始化关键字，keyNews将作为SearchNews的标题一部分，显示在搜索结果页的标题处\r\n  \r\n  // 初始化搜索结果数据\r\n  const SearchNews = (keywords) => {\r\n    keyNews = ref([{\r\n      id: 1, \r\n      title: keywords + '相关新闻', \r\n      description: '这是一段描述',\r\n      source: '来源标记', \r\n      pic: 'test1.jpg',\r\n      url: 'https://finance.sina.com.cn/jjxw/2024-08-09/doc-ihchfyg653217.shtml'\r\n    }])\r\n    console.log(keywords, '已完成搜索')\r\n  }\r\n  \r\n\r\n  \r\n  let route = useRoute()\r\n  let keywords = route.query.keyword\r\n  \r\n  onMounted(() => {\r\n    console.log('关键词搜索：', keywords)\r\n    SearchNews(keywords)\r\n  })\r\n  \r\n  watch(() => route.query.keyword, (newValue, oldValue) => {\r\n    keywords = newValue // 更新搜索关键字\r\n    console.log(newValue, oldValue)\r\n    SearchNews(newValue) // 执行新的搜索\r\n  }, { immediate: true })\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .news-list {\r\n    padding: 20px;\r\n  }\r\n  </style>\r\n  "],"mappings":";;;EAEUA,KAAqB,EAArB;IAAA;EAAA;AAAqB;;uBAD3BC,mBAAA,CAIM,cAHJC,mBAAA,CAAiD,MAAjDC,UAAiD,EAAAC,gBAAA,CAApBC,MAAA,CAAAC,QAAQ,IAAG,MAAI,iBAC5CC,mBAAA,+CAAkD,EAClDC,YAAA,CAA+BH,MAAA;IAApBI,QAAQ,EAAEJ,MAAA,CAAAK;EAAO,sC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}