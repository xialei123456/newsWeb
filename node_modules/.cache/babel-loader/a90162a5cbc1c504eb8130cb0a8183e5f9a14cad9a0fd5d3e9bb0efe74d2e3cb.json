{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, mergeProps as _mergeProps, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-56193d70\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"header\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"logo\"\n}, \"金融资讯聚合平台\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  style: {\n    \"padding\": \"5px\",\n    \"margin-top\": \"5px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\");\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_list = _resolveComponent(\"v-list\");\n  const _component_v_menu = _resolveComponent(\"v-menu\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"header\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" 搜索栏 \"), _createCommentVNode(\" 使用 Vuetify 提供的文本输入组件, v-model 双向绑定 search 变量, append-icon 添加放大镜图标 \"), _createVNode(_component_v_text_field, {\n    clearable: \"\",\n    modelValue: $setup.search,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.search = $event),\n    \"append-icon\": \"mdi-magnify\",\n    \"onClick:append\": _cache[1] || (_cache[1] = $event => $setup.clickSearch($setup.search)),\n    label: \"Type the keyword of your interests\",\n    \"hide-details\": \"\",\n    class: \"search-bar\",\n    variant: \"solo\",\n    density: \"compact\",\n    \"single-line\": \"\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" 用户信息及功能菜单 \"), $setup.isLoggedIn ? (_openBlock(), _createBlock(_component_v_menu, {\n    key: 0,\n    \"open-on-click\": \"\",\n    \"offset-y\": \"\"\n  }, {\n    activator: _withCtx(({\n      props\n    }) => [_createCommentVNode(\"新版使用props\"), _createVNode(_component_v_btn, _mergeProps({\n      icon: \"\"\n    }, props), {\n      default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n        default: _withCtx(() => [_createTextVNode(\"mdi-account-circle\")]),\n        _: 1 /* STABLE */\n      })]),\n      _: 2 /* DYNAMIC */\n    }, 1040 /* FULL_PROPS, DYNAMIC_SLOTS */)]),\n    default: _withCtx(() => [_createVNode(_component_v_list, null, {\n      default: _withCtx(() => [_createVNode(_component_v_list_item, null, {\n        default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.username), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_list_item, {\n        onClick: _cache[2] || (_cache[2] = $event => $setup.goStarPage())\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n          default: _withCtx(() => [_createTextVNode(\"我的收藏\")]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_list_item, {\n        onClick: _cache[3] || (_cache[3] = $event => $setup.handleLogout())\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n          default: _withCtx(() => [_createTextVNode(\"退出登录\")]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })) : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"未登录\"))]), _createCommentVNode(\" 标签导航 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", null, [_createCommentVNode(\" 使用 router-link 进行导航和路由 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"首页\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'LabelNews',\n      params: {\n        label: '新闻'\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"新闻\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'LabelNews',\n      params: {\n        label: '证券'\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"证券\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'LabelNews',\n      params: {\n        label: '理财'\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"理财\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'LabelNews',\n      params: {\n        label: '其他'\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"其他\")]),\n    _: 1 /* STABLE */\n  })])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","key","style","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_createCommentVNode","_createVNode","_component_v_text_field","clearable","modelValue","$setup","search","_cache","$event","clickSearch","label","variant","density","isLoggedIn","_createBlock","_component_v_menu","activator","_withCtx","props","_component_v_btn","_mergeProps","icon","default","_component_v_icon","_createTextVNode","_","_component_v_list","_component_v_list_item","_component_v_list_item_title","_toDisplayString","_ctx","username","onClick","goStarPage","handleLogout","_hoisted_3","_hoisted_4","_component_router_link","to","name","params"],"sources":["D:\\ForWork\\找实习\\中信证券code比赛\\复赛\\front\\news-front\\src\\components\\HeaderItem.vue"],"sourcesContent":["<template>\r\n  <header class=\"header\">\r\n    <div class=\"logo\">金融资讯聚合平台</div>\r\n\r\n    <!-- 搜索栏 -->\r\n    <!-- 使用 Vuetify 提供的文本输入组件, v-model 双向绑定 search 变量, append-icon 添加放大镜图标 -->\r\n    <v-text-field clearable\r\n      v-model=\"search\"\r\n      append-icon=\"mdi-magnify\"\r\n      @click:append=\"clickSearch(search)\"\r\n      label=\"Type the keyword of your interests\"\r\n      hide-details\r\n      class=\"search-bar\"\r\n      variant=\"solo\"\r\n\r\n      density=\"compact\"\r\n      single-line\r\n    ></v-text-field>\r\n\r\n    <!-- 用户信息及功能菜单 -->\r\n    <v-menu v-if=\"isLoggedIn\" open-on-click offset-y>\r\n      <template v-slot:activator=\"{ props }\">  <!--新版使用props-->\r\n        <v-btn icon v-bind=\"props\">\r\n          <v-icon>mdi-account-circle</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <v-list>\r\n        <v-list-item>\r\n          <v-list-item-title>{{ username }}</v-list-item-title>\r\n        </v-list-item>\r\n        <v-list-item @click=\"goStarPage()\">\r\n          <v-list-item-title>我的收藏</v-list-item-title>\r\n        </v-list-item>\r\n        <v-list-item @click=\"handleLogout()\">\r\n          <v-list-item-title>退出登录</v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n    <span v-else>未登录</span>\r\n  </header>\r\n\r\n  <!-- 标签导航 -->\r\n  <div style=\"padding:5px;margin-top:5px\">\r\n    <nav>\r\n      <ul>\r\n        <!-- 使用 router-link 进行导航和路由 -->\r\n        <li><router-link to=\"/\">首页</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '新闻' } }\">新闻</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '证券' } }\">证券</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '理财' } }\">理财</router-link></li>\r\n        <li><router-link :to=\"{ name: 'LabelNews', params: { label: '其他' } }\">其他</router-link></li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HeaderItem'\r\n}\r\n</script>\r\n\r\n<script setup>\r\nimport { ref, watch,onMounted } from 'vue'\r\n//import { storeToRefs } from 'pinia';\r\n//import { useUserStore } from '@/stores/user'; // 引入用户 store\r\nimport { useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex';\r\n// 创建搜索关键字的响应式变量\r\nconst search = ref('')\r\n\r\n// 监听 search 的变化并执行搜索操作\r\nwatch(search, (newValue) => {\r\n  //console.log('Searching for:', newValue)\r\n  // 执行搜索时的逻辑代码, 比如调用搜索接口\r\n})\r\n\r\n// 触发搜索功能后，跳转搜索页面\r\nconst router = useRouter() // 获取路由实例\r\nconst clickSearch = (keywords) => {\r\n  router.push({ name: 'SearchPage', query: { keyword: keywords } }) // 跳转, 携带 query 参数\r\n}\r\n\r\n// 使用 Pinia 状态系统引入\r\n//const userStore = useUserStore();\r\n//const { isLoggedIn, username } = storeToRefs(userStore); // 从状态管理中提取 ref\r\n\r\n// 跳转至收藏页面的函数\r\nconst goStarPage = () => {\r\n  router.push({ name: 'StarPage' }) // 跳转到收藏页面 NewsPage 相似\r\n}\r\n\r\n//登录态获取\r\nconst isLoggedIn = ref(false);\r\nconst store = useStore();  //使用Vuex实例\r\nconst handleLogout = ()=>{\r\n  store.dispatch('Logout').then(()=>{\r\n    isLoggedIn.value = false\r\n  }).catch(error => {\r\n    console.error(\"登出失败\",error);\r\n  }\r\n    )\r\n  }\r\n  \r\nonMounted(()=>{\r\n  isLoggedIn.value = !!store.getters.token;\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 20px;\r\n  background-color: #e5e5e5;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.logo {\r\n  font-size: 17px;\r\n\r\n}\r\n\r\n.search-bar {\r\n  width: 28%;\r\n  flex-grow: 1; /* 搜索栏占据剩余的中间空间 */\r\n  margin: 0 auto; /* 搜索栏在页面中居中 */\r\n  max-width: 540px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-35%);\r\n}\r\n\r\nnav ul {\r\n  display: flex;\r\n  justify-content: center;\r\n  list-style: none;\r\n}\r\n\r\nnav ul li {\r\n  margin-left: 20px;\r\n}\r\n\r\nnav ul li a {\r\n  text-decoration: none;\r\n  color: #333;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}