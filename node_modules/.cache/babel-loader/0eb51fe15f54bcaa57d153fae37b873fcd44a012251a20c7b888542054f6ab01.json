{"ast":null,"code":"import { ref } from 'vue';\nimport { onMounted, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport NewsList from './NewsList.vue';\nconst __default__ = {\n  name: 'SearchPage',\n  components: {\n    NewsList\n  }\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let keyNews = ref([]); // 初始化关键字，keyNews将作为SearchNews的标题一部分，显示在搜索结果页的标题处\n\n    // 初始化搜索结果数据\n    const SearchNews = keywords => {\n      keyNews = ref([{\n        id: 1,\n        title: keywords + '相关新闻',\n        description: '这是一段描述',\n        source: '来源标记',\n        pic: 'test_1.jpg',\n        url: 'https://finance.sina.com.cn/jjxw/2024-08-09/doc-ihchfyg653217.shtml'\n      }]);\n      console.log(keywords, '已完成搜索');\n    };\n    let route = useRoute();\n    let keywords = route.query.keyword;\n    onMounted(() => {\n      console.log('关键词搜索：', keywords);\n      SearchNews(keywords);\n    });\n    watch(() => route.query.keyword, (newValue, oldValue) => {\n      keywords = newValue; // 更新搜索关键字\n      console.log(newValue, oldValue);\n      SearchNews(newValue); // 执行新的搜索\n    }, {\n      immediate: true\n    });\n    const __returned__ = {\n      get keyNews() {\n        return keyNews;\n      },\n      set keyNews(v) {\n        keyNews = v;\n      },\n      SearchNews,\n      get route() {\n        return route;\n      },\n      set route(v) {\n        route = v;\n      },\n      get keywords() {\n        return keywords;\n      },\n      set keywords(v) {\n        keywords = v;\n      },\n      NewsList,\n      ref,\n      onMounted,\n      watch,\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","onMounted","watch","useRoute","NewsList","__default__","name","components","keyNews","SearchNews","keywords","id","title","description","source","pic","url","console","log","route","query","keyword","newValue","oldValue","immediate"],"sources":["D:/ForWork/找实习/中信证券code比赛/复赛/front/news-front/src/components/SearchPage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1 style=\"display:flex;\">{{ keywords }}搜索结果</h1>\r\n      <!-- 从TableTitle获取labelNews,并作为参数传递给newsList使用 -->\r\n      <NewsList :newsList=\"keyNews\"/>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import NewsList from './NewsList.vue'\r\n  \r\n  export default {\r\n    name: 'SearchPage',\r\n    components: {\r\n      NewsList\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <script setup>\r\n  import { ref } from 'vue'\r\n  import { onMounted, watch } from 'vue'\r\n  import { useRoute } from 'vue-router'\r\n  \r\n  let keyNews = ref([]) // 初始化关键字，keyNews将作为SearchNews的标题一部分，显示在搜索结果页的标题处\r\n  \r\n  // 初始化搜索结果数据\r\n  const SearchNews = (keywords) => {\r\n    keyNews = ref([{\r\n      id: 1, \r\n      title: keywords + '相关新闻', \r\n      description: '这是一段描述',\r\n      source: '来源标记', \r\n      pic: 'test_1.jpg',\r\n      url: 'https://finance.sina.com.cn/jjxw/2024-08-09/doc-ihchfyg653217.shtml'\r\n    }])\r\n    console.log(keywords, '已完成搜索')\r\n  }\r\n  \r\n\r\n  \r\n  let route = useRoute()\r\n  let keywords = route.query.keyword\r\n  \r\n  onMounted(() => {\r\n    console.log('关键词搜索：', keywords)\r\n    SearchNews(keywords)\r\n  })\r\n  \r\n  watch(() => route.query.keyword, (newValue, oldValue) => {\r\n    keywords = newValue // 更新搜索关键字\r\n    console.log(newValue, oldValue)\r\n    SearchNews(newValue) // 执行新的搜索\r\n  }, { immediate: true })\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .news-list {\r\n    padding: 20px;\r\n  }\r\n  </style>\r\n  "],"mappings":"AAoBE,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,EAAEC,KAAK,QAAQ,KAAK;AACtC,SAASC,QAAQ,QAAQ,YAAY;AAbrC,OAAOC,QAAQ,MAAM,gBAAgB;AAErC,MAAAC,WAAA,GAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IACVH;EACF;AACF,CAAC;;;;;;IAQD,IAAII,OAAO,GAAGR,GAAG,CAAC,EAAE,CAAC,EAAC;;IAEtB;IACA,MAAMS,UAAU,GAAIC,QAAQ,IAAK;MAC/BF,OAAO,GAAGR,GAAG,CAAC,CAAC;QACbW,EAAE,EAAE,CAAC;QACLC,KAAK,EAAEF,QAAQ,GAAG,MAAM;QACxBG,WAAW,EAAE,QAAQ;QACrBC,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,YAAY;QACjBC,GAAG,EAAE;MACP,CAAC,CAAC,CAAC;MACHC,OAAO,CAACC,GAAG,CAACR,QAAQ,EAAE,OAAO,CAAC;IAChC,CAAC;IAID,IAAIS,KAAK,GAAGhB,QAAQ,CAAC,CAAC;IACtB,IAAIO,QAAQ,GAAGS,KAAK,CAACC,KAAK,CAACC,OAAO;IAElCpB,SAAS,CAAC,MAAM;MACdgB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAER,QAAQ,CAAC;MAC/BD,UAAU,CAACC,QAAQ,CAAC;IACtB,CAAC,CAAC;IAEFR,KAAK,CAAC,MAAMiB,KAAK,CAACC,KAAK,CAACC,OAAO,EAAE,CAACC,QAAQ,EAAEC,QAAQ,KAAK;MACvDb,QAAQ,GAAGY,QAAQ,EAAC;MACpBL,OAAO,CAACC,GAAG,CAACI,QAAQ,EAAEC,QAAQ,CAAC;MAC/Bd,UAAU,CAACa,QAAQ,CAAC,EAAC;IACvB,CAAC,EAAE;MAAEE,SAAS,EAAE;IAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}